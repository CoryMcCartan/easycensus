<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Extracting desired data using the proper Census variable names can 
    be time-consuming. This package takes the pain out of that process.">
<title>Quickly Extract and Marginalize U.S. Census Tables • easycensus</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Quickly Extract and Marginalize U.S. Census Tables">
<meta property="og:description" content="Extracting desired data using the proper Census variable names can 
    be time-consuming. This package takes the pain out of that process.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">easycensus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="easycensus">easycensus<a class="anchor" aria-label="anchor" href="#easycensus"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>Extracting desired data using the proper Census variable names can be time-consuming. This package takes the pain out of that process.</p>
<p>The use case is best illustrated by an example. Suppose you want age-by-race information at the tract level. Unfortunately, the Census Bureau doesn’t publish a specific age-by-race table. You could build one yourself from public-use microdata, but that lacks tract-level geographic information, for privacy reasons. So you are left trying to find an existing Census product that you can extract age-by-race information from.</p>
<p>Unless you’re a Census pro, you won’t know what exactly what is off the top of your head. But suppose you know you’d like to get the data from the decennial census, since it covers the whole nation and asks about age and race. <code>easycensus</code> provides the <code><a href="reference/find_dec_table.html">find_dec_table()</a></code> function to help you locate exactly which decennial census table to use to get the data you want.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://corymccartan.github.io/easycensus/">easycensus</a></span><span class="op">)</span>

<span class="fu"><a href="reference/find_dec_table.html">find_dec_table</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">race</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ── Top 2 matching tables ──</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  P012  - SEX BY AGE</span>
<span class="co">#&gt; Parsed variables:</span>
<span class="co">#&gt; • sex</span>
<span class="co">#&gt; • age</span>
<span class="co">#&gt; • race_ethnicity</span>
<span class="co">#&gt; Example values:</span>
<span class="co">#&gt; • female / 5 to 9 years / total</span>
<span class="co">#&gt; • female / 20 years / white alone, not hispanic or latino</span>
<span class="co">#&gt; • male / total / white alone</span>
<span class="co">#&gt;  PCT012  - SEX BY AGE</span>
<span class="co">#&gt; Parsed variables:</span>
<span class="co">#&gt; • sex</span>
<span class="co">#&gt; • age</span>
<span class="co">#&gt; • race_ethnicity</span>
<span class="co">#&gt; Example values:</span>
<span class="co">#&gt; • female / 50 years / two or more races</span>
<span class="co">#&gt; • male / 110 years and over / black or african american alone</span>
<span class="co">#&gt; • female / 69 years / native hawaiian and other pacific islander alone, not</span>
<span class="co">#&gt; hispanic or latino</span></code></pre></div>
<p>We can see right away that our best bet is either table <code>P012</code> or table <code>PCT012</code>, depending on whether we want age in 5-year groups or down to individual years. Let’s say you’re OK with the five-year bins. Then all you need to do to get your data is to call <code><a href="reference/get_dec_table.html">get_dec_table()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d_cens</span> <span class="op">=</span> <span class="fu"><a href="reference/get_dec_table.html">get_dec_table</a></span><span class="op">(</span><span class="st">"tract"</span>, <span class="st">"P012"</span>, state<span class="op">=</span><span class="st">"AK"</span>, county<span class="op">=</span><span class="st">"Nome"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">d_cens</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 9,600 × 7</span>
<span class="co">#&gt;    GEOID       NAME                    variable value sex   age   race_ethnicity</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;                   &lt;chr&gt;    &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;         </span>
<span class="co">#&gt;  1 02180000100 Census Tract 1, Nome C… P012002   3053 male  total total         </span>
<span class="co">#&gt;  2 02180000200 Census Tract 2, Nome C… P012002   2005 male  total total         </span>
<span class="co">#&gt;  3 02180000100 Census Tract 1, Nome C… P012003    359 male  unde… total         </span>
<span class="co">#&gt;  4 02180000200 Census Tract 2, Nome C… P012003    175 male  unde… total         </span>
<span class="co">#&gt;  5 02180000100 Census Tract 1, Nome C… P012004    318 male  5 to… total         </span>
<span class="co">#&gt;  6 02180000200 Census Tract 2, Nome C… P012004    132 male  5 to… total         </span>
<span class="co">#&gt;  7 02180000100 Census Tract 1, Nome C… P012005    294 male  10 t… total         </span>
<span class="co">#&gt;  8 02180000200 Census Tract 2, Nome C… P012005    161 male  10 t… total         </span>
<span class="co">#&gt;  9 02180000100 Census Tract 1, Nome C… P012006    165 male  15 t… total         </span>
<span class="co">#&gt; 10 02180000200 Census Tract 2, Nome C… P012006     90 male  15 t… total         </span>
<span class="co">#&gt; # … with 9,590 more rows</span></code></pre></div>
<p><code>easycensus</code> is built on top of the great <a href="https://walker-data.com/tidycensus/" class="external-link"><code>tidycensus</code></a> package, so all of the usual arguments to those functions (including the ability to get shapefile information) work here, too.</p>
<p>Once you’ve gotten your labelled data, it’s easy to marginalize out the unneeded <code>sex</code> variable.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>

<span class="va">d_cens</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
    <span class="co"># drop table margins</span>
    <span class="co"># can also use `drop_total=TRUE` in `get_dec_table()`</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">age</span> <span class="op">!=</span> <span class="st">"total"</span>, <span class="va">race_ethnicity</span> <span class="op">!=</span> <span class="st">"total"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">GEOID</span>, <span class="va">age</span>, <span class="va">race_ethnicity</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 414 × 4</span>
<span class="co">#&gt; # Groups:   GEOID, age [46]</span>
<span class="co">#&gt;    GEOID       age            race_ethnicity                               value</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;fct&gt;          &lt;fct&gt;                                        &lt;dbl&gt;</span>
<span class="co">#&gt;  1 02180000100 10 to 14 years american indian and alaska native alone       5240</span>
<span class="co">#&gt;  2 02180000100 10 to 14 years asian alone                                     10</span>
<span class="co">#&gt;  3 02180000100 10 to 14 years black or african american alone                 10</span>
<span class="co">#&gt;  4 02180000100 10 to 14 years hispanic or latino                              30</span>
<span class="co">#&gt;  5 02180000100 10 to 14 years native hawaiian and other pacific islander …     0</span>
<span class="co">#&gt;  6 02180000100 10 to 14 years some other race alone                            0</span>
<span class="co">#&gt;  7 02180000100 10 to 14 years two or more races                              230</span>
<span class="co">#&gt;  8 02180000100 10 to 14 years white alone                                    110</span>
<span class="co">#&gt;  9 02180000100 10 to 14 years white alone, not hispanic or latino            100</span>
<span class="co">#&gt; 10 02180000100 15 to 17 years american indian and alaska native alone       2930</span>
<span class="co">#&gt; # … with 404 more rows</span></code></pre></div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<!-- 
You can install the released version of easycensus from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("easycensus")
```

And the development version from [GitHub](https://github.com/) with:
-->
<p>You can install the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"CoryMcCartan/easycensus"</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing easycensus</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Cory McCartan <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/CoryMcCartan/easycensus/actions" class="external-link"><img src="https://github.com/CoryMcCartan/easycensus/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Cory McCartan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
