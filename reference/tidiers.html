<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Tidy labels in census tables — tidiers • easycensus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tidy labels in census tables — tidiers"><meta name="description" content="Some table labels are quite verbose, and users will often want to shorten them.
These functions make tidying common types of labels easy.
Most produce straightforward output, but there are several more generic tidiers:
tidy_simplify() attempts to simplify labels by removing words common to all labels.
tidy_parens() attempts to simplify labels by removing all terms in parentheses.
tidy_race_detailed() creates logical columns for each of the six racial categories.

"><meta property="og:description" content="Some table labels are quite verbose, and users will often want to shorten them.
These functions make tidying common types of labels easy.
Most produce straightforward output, but there are several more generic tidiers:
tidy_simplify() attempts to simplify labels by removing words common to all labels.
tidy_parens() attempts to simplify labels by removing all terms in parentheses.
tidy_race_detailed() creates logical columns for each of the six racial categories.

"><meta property="og:image" content="http://corymccartan.com/easycensus/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">easycensus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CoryMcCartan/easycensus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Tidy labels in census tables</h1>
      <small class="dont-index">Source: <a href="https://github.com/CoryMcCartan/easycensus/blob/main/R/tidy_labels.R" class="external-link"><code>R/tidy_labels.R</code></a></small>
      <div class="d-none name"><code>tidiers.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Some table labels are quite verbose, and users will often want to shorten them.
These functions make tidying common types of labels easy.
Most produce straightforward output, but there are several more generic tidiers:</p><ul><li><p><code>tidy_simplify()</code> attempts to simplify labels by removing words common to all labels.</p></li>
<li><p><code>tidy_parens()</code> attempts to simplify labels by removing all terms in parentheses.</p></li>
<li><p><code>tidy_race_detailed()</code> creates logical columns for each of the six racial categories.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tidy_race</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy_race_detailed</span><span class="op">(</span><span class="va">x</span>, <span class="va">x2</span>, <span class="va">x3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy_ethnicity</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy_age</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy_age_bins</span><span class="op">(</span><span class="va">x</span>, as_factor <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy_income_bins</span><span class="op">(</span><span class="va">x</span>, as_factor <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy_simplify</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy_parens</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A factor, which will be re-leveled. Character vectors will be converted to factors.</p></dd>


<dt id="arg-x-x-">x2, x3<a class="anchor" aria-label="anchor" href="#arg-x-x-"></a></dt>
<dd><p>Additional character columns containing detailed information for certain variables (e.g. detailed race)</p></dd>


<dt id="arg-as-factor">as_factor<a class="anchor" aria-label="anchor" href="#arg-as-factor"></a></dt>
<dd><p>if <code>TRUE</code>, return a factor with levels of the form <code>[35,40]</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A re-leveled factor, except for <code>tidy_age_bins()</code>, which by default
returns a data frame with columns <code>age_from</code> and <code>age_to</code> (inclusive).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">ex_race_long</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"american indian and alaska native alone"</span>, <span class="st">"asian alone"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"black or african american alone"</span>, <span class="st">"hispanic or latino"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"native hawaiian and other pacific islander alone"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"some other race alone"</span>, <span class="st">"total"</span>, <span class="st">"two or more races"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"white alone"</span>, <span class="st">"white alone, not hispanic or latino"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">tidy_race</span><span class="op">(</span><span class="va">ex_race_long</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] aian     asian    black    hisp     nhpi     other    total    two     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] white    white_nh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: aian asian black hisp nhpi other total two white white_nh</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">tidy_age_bins</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10 to 14 years"</span>, <span class="st">"21 years"</span>, <span class="st">"85 years and over"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   age_from age_to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>       10     14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>       21     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>       85    <span style="color: #BB0000;">Inf</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">tidy_parens</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"label one (fake)"</span>, <span class="st">"label two (fake)"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] label one label two</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: label one label two</span>
<span class="r-in"><span><span class="fu">tidy_simplify</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"label one (fake)"</span>, <span class="st">"label two (fake)"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] one two</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: one two</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span>  <span class="co"># requires API key</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="cens_get.html">cens_get_acs</a></span><span class="op">(</span><span class="st">"B02003"</span>, <span class="st">"us"</span>, year<span class="op">=</span><span class="fl">2019</span>, survey<span class="op">=</span><span class="st">"acs1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu">tidy_race_detailed</span><span class="op">(</span><span class="va">dtldr_1</span>, <span class="va">dtldr_2</span>, <span class="va">dtldr_3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'd' not found</span>
<span class="r-in"><span> <span class="co"># \dontrun{}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://corymccartan.com/" class="external-link">Cory McCartan</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

